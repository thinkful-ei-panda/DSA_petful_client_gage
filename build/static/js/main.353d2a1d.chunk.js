(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{22:function(e,t,n){e.exports=n(33)},23:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),o=n.n(a),r=n(19),l=n.n(r),u=n(12),c=n(10),s=function(e){return o.a.createElement("div",{className:"content-center"},o.a.createElement("h2",null,"Welcome to Petful"),o.a.createElement("p",{className:"intro-message"},"No one cares about pets like we do. All of our staff suffer chronic depression from seeing so many pets that we've fallen in love with leave us. We Know they're going to a good home, but that doesn't mean that it doesn't hurt to watch them go."),o.a.createElement(u.b,{to:"/adoption"},o.a.createElement("button",{className:"button"},"Adopt a Pet")))},i=function(e){return o.a.createElement("div",null,o.a.createElement(s,null))},p=n(2),h=n(3),m=n(5),d=n(4),f=n(6),g=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){n.props.handleQueueMovement()},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:this.props.handleAdoption,className:"button",id:this.props.type},"Adopt Me"))}}]),t}(o.a.Component);g.defaultProps={handleAdoption:function(){},type:"",handleQueueMovement:function(){}};var v=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props[this.props.type],t=e.age,n=e.breed,a=e.gender,r=e.name,l=e.story,u="".concat(this.props.type,"s");return o.a.createElement("div",null,o.a.createElement("h4",null,"Name:")," ",o.a.createElement("span",null,r),o.a.createElement("h4",null,"Breed:")," ",o.a.createElement("span",null,n),o.a.createElement("h4",null,"Gender:")," ",o.a.createElement("span",null,a),o.a.createElement("h4",null,"Age:")," ",o.a.createElement("span",null,t),o.a.createElement("h4",null,"".concat(r,"'s story:"))," ",o.a.createElement("span",null,l),o.a.createElement("div",null,this.props.next&&o.a.createElement(g,{handleQueueMovement:this.props.handleQueueMovement,type:u,handleAdoption:this.props.handleAdoption})))}}]),t}(o.a.Component);v.defaultProp={type:"",cat:{age:"",breed:"",description:"",gender:"",name:"",story:"",type:""},dog:{age:"",breed:"",description:"",gender:"",name:"",story:"",type:""},next:!1,peopleInQueue:[],handleQueueMovement:function(){},handleAdoption:function(){}};var E=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"pet-content"},o.a.createElement("div",{className:"pet-content-column-left"},o.a.createElement("img",{src:this.props.cat.imageURL,alt:this.props.cat.description}),o.a.createElement(v,{handleQueueMovement:this.props.handleQueueMovement,next:this.props.next,handleAdoption:this.props.handleAdoption,type:"cat",cat:this.props.cat})),o.a.createElement("div",{className:"pet-content-column-right"},o.a.createElement("img",{src:this.props.dog.imageURL,alt:this.props.dog.description}),o.a.createElement(v,{next:this.props.next,handleAdoption:this.props.handleAdoption,type:"dog",dog:this.props.dog,peopleInQueue:this.props.peopleInQueue}))))}}]),t}(o.a.Component);E.defaultProp={petImage:null,petType:"",cat:{imageURL:"",description:""},dog:{imageURL:"",description:""},next:!1,peopleInQueue:[],handleQueueMovement:function(){},handleAdoption:function(){}};var b=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.props.people.map((function(e,t){return o.a.createElement("p",{key:t},e)})))}}]),t}(o.a.Component);b.defaultProps={people:[]};var j=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,{people:this.props.people}))}}]),t}(o.a.Component);j.defaultProps={people:[]};var y=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"space-container"},o.a.createElement("h2",null,"Adopt a Pet"),o.a.createElement("hr",null)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"content-column-left"},o.a.createElement("div",{className:"content-item"},o.a.createElement("h3",null,"Currently Up For Adoption"),o.a.createElement(E,{handleAdoption:this.props.handleAdoption,cat:this.props.cat,dog:this.props.dog,next:this.props.next,handleQueueMovement:this.handleQueueMovement,peopleInQueue:this.props.peopleInQueue}))),o.a.createElement("div",{className:"content-column-right"},o.a.createElement("div",{className:"content-item"},o.a.createElement("h3",null,"Adoption Queue"),o.a.createElement("p",null,"The person at the top of the queue has 5 seconds to adopt either pet."),o.a.createElement("div",{className:"queue"},o.a.createElement(j,{people:this.props.peopleInQueue}))),o.a.createElement("div",{className:"content-item"},o.a.createElement("form",{onSubmit:this.props.handleRegistration},o.a.createElement("h3",null,"Join the Queue"),o.a.createElement("p",null,"Add your name to join the adoption queue."),o.a.createElement("legend",null),o.a.createElement("fieldset",null,o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"name",className:"hidden"},"Name"),o.a.createElement("input",{onChange:this.props.handleRegistrationInput,name:"name",value:this.props.val,id:"name",placeholder:"name",required:!0})),o.a.createElement("div",null,o.a.createElement("button",{className:"button"},"Register"))))))))}}]),t}(o.a.Component);y.defaultProps={error:null,regInput:"",cat:{},dog:{},val:"",peopleInQueue:[],handleAdoption:function(){},handleRegistrationInput:function(){},handleRegistration:function(){}};var I={getListOfPeopleInQueue:function(){return fetch("".concat("https://limitless-dawn-59401.herokuapp.com/api","/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},postNewUserIntoQueue:function(e){return fetch("".concat("https://limitless-dawn-59401.herokuapp.com/api","/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({person:e})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},dequeueUserFromQueue:function(){return fetch("".concat("https://limitless-dawn-59401.herokuapp.com/api","/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}},O={getNextPets:function(){return fetch("".concat("https://limitless-dawn-59401.herokuapp.com/api","/pets")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))},removePetFromQueue:function(e){return fetch("".concat("https://limitless-dawn-59401.herokuapp.com/api","/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify(e)})}},Q={people:["Callum Lugo","Grover Mcgowan","Harrison Amos","Monty Oconnell","Honor Mcbride","Floyd Conroy","Grant Sharples","Amanpreet Battle","Megan Powers","Alayah Hamer","Tolga Bostock","Luca Hardy","Jadon Chapman","Trevor Hill","Waqar Guest","Belinda Serrano","Atlas Sumner","Sacha Zhang","Finnian Weave"]},A=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={error:null,regInput:"",cat:{},dog:{},peopleInQueue:[],type:"",user:"",next:!1},n.componentDidMount=function(){n.refresh(),setInterval(n.refresh,1e3),setInterval(n.isNextInLine,1e3),setInterval(n.handleRandomAdoption,6e3),setInterval(n.queueRandomPeople,7e3)},n.componentWillUnmount=function(){n.setState({error:null})},n.isNextInLine=function(){console.log("called"),n.state.user===n.state.peopleInQueue[0]?n.setState({next:!0}):n.setState({next:!1})},n.queueRandomPeople=function(){if(n.state.peopleInQueue.length<6){var e=Q.people[Math.floor(Math.random()*Math.floor(Q.people.length))];I.postNewUserIntoQueue(e).catch((function(e){return n.setState({error:e})}))}},n.refresh=function(){I.getListOfPeopleInQueue().then((function(e){n.setState({peopleInQueue:e})})).catch((function(e){return n.setState({error:e})})),O.getNextPets().then((function(e){n.setState({cat:e.cat,dog:e.dog})})).catch((function(e){return n.setState({error:e})}))},n.handleRegistration=function(e){e.preventDefault(),I.postNewUserIntoQueue(n.state.regInput).catch((function(e){return n.setState({error:e})})),n.setState({user:n.state.regInput}),n.setState({regInput:""}),n.refresh()},n.handleRegistrationInput=function(e){e.preventDefault(),n.setState({regInput:e.target.value})},n.handleAdoption=function(e){e.preventDefault(),O.removePetFromQueue({type:e.target.id}),I.dequeueUserFromQueue(),n.refresh()},n.handleRandomAdoption=function(){if(n.state.peopleInQueue.length>1&&n.state.user&&n.state.peopleInQueue[0]!==n.state.user){var e=["cats","dogs"][Math.floor(Math.random()*Math.floor(2))];O.removePetFromQueue({type:e}),I.dequeueUserFromQueue()}console.log("it just works")},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.cat,n=e.dog,a=e.peopleInQueue;return o.a.createElement("div",null,o.a.createElement(y,{cat:t,dog:n,peopleInQueue:a,handleAdoption:this.handleAdoption,handleRegistrationInput:this.handleRegistrationInput,val:this.state.regInput,handleRegistration:this.handleRegistration,next:this.state.next,handleQueueMovement:this.handleQueueMovement}))}}]),t}(o.a.Component);var N=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement(u.b,{to:"/"},o.a.createElement("h1",null,"Petful"))),o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/",component:i}),o.a.createElement(c.a,{path:"/adoption",component:A})))};l.a.render(o.a.createElement(u.a,null,o.a.createElement(N,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.353d2a1d.chunk.js.map